(this["webpackJsonpfrontend-react"]=this["webpackJsonpfrontend-react"]||[]).push([[0],[,,,function(e,t,n){e.exports=n(10)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),s=n.n(o);n(8),n(9);var i=function(){var e={},t=[],n=[];return r.a.createElement("div",{className:"App"},r.a.createElement("input",{type:"text",placeholder:"access token",id:"token"}),r.a.createElement("button",{onClick:function(){var r=document.getElementById("token").value;""===r?alert("Token is empty"):function(r){fetch("https://guarded-lowlands-65115.herokuapp.com/getAllMessages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r})}).then((function(r){r.ok&&r.json().then((function(r){var o="https://guarded-lowlands-65115.herokuapp.com/status/"+r.task_id;console.log(o),function r(o){fetch(o).then((function(s){s.ok&&(console.log(o),s.json().then((function(s){console.log(s);var i=parseInt(100*s.current/s.total);if(document.getElementById("progress").innerText=i+"%","PENDING"!==s.state&&"PROGRESS"!==s.state){if("result"in s){var c=s.result,d=c.items;t=c.profiles,n=c.groups;for(var l=0;l<d.length;l++){var m=d[l];e.hasOwnProperty(m.peer_id)?e[m.peer_id].push(m):e[m.peer_id]=[m]}for(var u=Object.keys(e),p=document.getElementById("conversations-select"),h=0;h<u.length;h++){var v=document.createElement("option");v.value=u[h];var g=parseInt(u[h]);v.innerHTML=g>0&&g<2e9?a(g).first_name+" "+a(g).last_name:g<0?a(g).name:u[h],p.appendChild(v)}}}else setTimeout((function(){r(o)}),2e3)})))}))}(o)}))}))}(r)}},"Go"),r.a.createElement("div",{id:"progress"},"0%"),r.a.createElement("select",{name:"conversations",id:"conversations-select",onChange:function(t){var n=document.getElementById("messages");n.innerHTML="";for(var a=e[t.target.value],r=0;r<a.length;r++)n.appendChild(o(a[r]))}}),r.a.createElement("div",{id:"messages"}));function a(e){if(e>0&&e<2e9){for(var a=0;a<t.length;a++)if(t[a].id===e)return t[a]}else if(e<0)for(var r=0;r<n.length;r++)if(parseInt(n[r].id)===-e)return n[r];return e}function o(e){if(!e)return"";var t,n,r=e.text,s=e.from_id;s>0&&s<2e9?(n=a(s).first_name+" "+a(s).last_name,t=a(s).photo_50):s<0&&(n=a(s).name,t=a(s).photo_50);var i=document.createElement("div");i.className="message";var c=document.createElement("img");c.className="ava",c.src=t;var d=document.createElement("div");d.className="right-content";var l=document.createElement("div");l.className="content";var m=document.createElement("div");m.className="name",m.innerText=n;var u=document.createElement("div");u.className="time",u.innerText=function(e){var t=new Date(1e3*e);return t.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}(e.date);var p=document.createElement("div");p.className="text",p.innerText=r;var h=document.createElement("div");h.className="clearFix";var v=document.createElement("div");v.className="photos";var g=document.createElement("div");g.className="audio-messages";for(var f=0;f<e.attachments.length;f++){var E=e.attachments[f];if("photo"===E.type){for(var C=document.createElement("img"),w=0,k=E.photo.sizes,y=k[0].width,_=0;_<k.length;_++)k[_].width>y&&(y=k[_].width,w=_);var N=k[w].url;C.src=N,C.height=400,v.appendChild(C)}if("audio_message"===E.type){var T=document.createElement("audio"),x=document.createElement("source");T.controls=!0,x.src=E.audio_message.link_ogg,T.appendChild(x),g.appendChild(T)}if("sticker"===E.type){var I=document.createElement("img");I.src=E.sticker.images[1].url,v.appendChild(I)}}var M=document.createElement("div");if(M.className="fwd-messages",e.hasOwnProperty("fwd_messages"))for(var O=0;O<e.fwd_messages.length;O++){var S=document.createElement("div");S.appendChild(o(e.fwd_messages[O])),M.appendChild(S)}return l.appendChild(p),l.appendChild(v),l.appendChild(g),l.appendChild(M),d.appendChild(m),d.appendChild(u),d.appendChild(l),i.appendChild(c),i.appendChild(d),i.appendChild(h),i}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[3,1,2]]]);
//# sourceMappingURL=main.c1529cff.chunk.js.map